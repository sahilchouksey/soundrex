"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function r(){var e=new Map;return{getObserver:function(r){var n=r.root,t=r.rootMargin,o=r.threshold,u=e.get(n);u||(u=new Map,e.set(n,u));var l=JSON.stringify({rootMargin:t,threshold:o}),s=u.get(l);if(!s){var a=new Map,i=new IntersectionObserver((function(e){e.forEach((function(e){var r=a.get(e.target);null==r||r(e)}))}),{root:n,rootMargin:t,threshold:o});u.set(l,s={observer:i,entryCallbacks:a})}return{observe:function(e,r){var n,t;null==(n=s)||n.entryCallbacks.set(e,r),null==(t=s)||t.observer.observe(e)},unobserve:function(e){var r,n;null==(r=s)||r.entryCallbacks.delete(e),null==(n=s)||n.observer.unobserve(e)}}}}}var n=[0],t=r();function o(r){var o,u,l=null!=(o=null==r?void 0:r.rootMargin)?o:"0px",s=null!=(u=null==r?void 0:r.threshold)?u:n,a=e.useRef(null),i=e.useRef(null),c=e.useRef(null),v=e.useState(),b=v[0],f=v[1],g=e.useCallback((function(){var e=a.current;if(e){var r=t.getObserver({root:i.current,rootMargin:l,threshold:s});r.observe(e,(function(e){f(e)})),c.current=r}else f(void 0)}),[l,s]),h=e.useCallback((function(){var e=c.current,r=a.current;r&&(null==e||e.unobserve(r)),c.current=null}),[]);return[e.useCallback((function(e){h(),a.current=e,g()}),[g,h]),{entry:b,rootRef:e.useCallback((function(e){h(),i.current=e,g()}),[g,h])}]}function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}exports.useIntersectionObserver=o,exports.useTrackVisibility=function(r){var n,t=o(r),l=t[0],s=t[1],a=Boolean(null==(n=s.entry)?void 0:n.isIntersecting),i=e.useState(a),c=i[0];return a&&!c&&(0,i[1])(!0),[l,u({},s,{isVisible:a,wasEverVisible:c})]};
//# sourceMappingURL=react-intersection-observer-hook.cjs.production.min.js.map
